# nextjs14-starter-fsdAA

### fsd 아키텍처 구조 만든 보일러 플레이트

#### 포함된 기술스택

- **nextJs** 14.2.0
- react
- typeScript
- tailwind css
- eslint
- prettier
- huscky
- lint-staged

---

#### Husky + lint-staged 설정 (커밋 전에 자동 검사 및 포맷)

```shell
npm install --save-dev husky lint-staged
npx husky install
npx husky add .husky/pre-commit "npx lint-staged"
```

---

#### eslint-plugin-import + simple-import-sort로 import 정렬

```shell
npm install --save-dev eslint-plugin-import eslint-plugin-simple-import-sort
```

### FSD 아키텍처 (템플릿 구조)

#### Layers

- app: 애플리케이션 로직이 초기화되는 곳입니다. 프로바이더, 라우터, 전역 스타일, 전역 타입 선언 등이 여기에서 정의됩니다. 애플리케이션의 진입점 역할을 합니다.
- pages: 이 레이어에는 애플리케이션의 페이지가 포함됩니다.
- widgets: 페이지에 사용되는 독립적인 UI 컴포넌트입니다.
- features: 이 레이어는 비즈니스 가치를 전달하는 사용자 시나리오와 기능을 다룹니다. 예를 들어 좋아요, 리뷰 작성, 제품 평가 등이 있습니다. 선택적 레이어입니다.
- entities: 이 레이어는 비즈니스 엔티티를 나타냅니다. 이러한 엔티티에는 사용자, 리뷰, 댓글 등이 포함될 수 있습니다. 선택적 레이어입니다.
- shared: 이 레이어에는 특정 비즈니스 로직에 종속되지 않은 재사용 가능한 컴포넌트와 유틸리티가 포함되어 있습니다. 여기에는 UI 키트, axios 설정, 애플리케이션 설정, 비즈니스 로직에 묶이지 않은 헬퍼 등이 포함됩니다.

  ** 위 구조는 탑다운 방식이다. 즉 위 디렉토리는 아래 디렉토리를 사용해도 되지만 하위 디렉토리는 상위를 사용하지 않는 규칙을 가져야 한다. **
  ex : app에서는 다 쓸수있고, pages를 쓸수있는건 app 뿐이고 그런식

#### Slices

각 레이어에는 애플리케이션 분해의 두 번째 수준인 슬라이스라는 하위 디렉토리가 있다.
슬라이스에서 연결은 추상적인 것이 아니라 특정 비즈니스 엔티티에 대한 것! 슬라이스의 주요 목표는 코드를 값별로 그룹화하는 것이다.

#### Segments

각 슬라이스는 세그먼트로 구성된다. 세그먼트는 목적에 따라 슬라이스 내의 코드를 나누는 데 도움이 된다. 팀의 합의에 따라 세그먼트의 구성과 이름이 변경될 수 있다.
일반적으로 사용되는 세그먼트들은 다음과 같다.

- api - 필요한 서버 요청.
- UI - 슬라이스의 UI 컴포넌트.
- model - 비즈니스 로직, 즉 상태와의 상호 작용. actions 및 selectors가 이에 해당
- lib - 슬라이스 내에서 사용되는 보조 기능.
- config - 슬라이스에 필요한 구성값이지만 구성 세그먼트는 거의 필요하지 않음.
- consts - 필요한 상수.

---

### 아키텍처의 장점과 단점

#### 장점

- 아키텍처 구성 요소를 쉽게 교체, 추가, 제거할 수 있다.
- 아키텍처 표준화.
- 확장성.
- 방법론은 개발 스택과 독립적.
- 예기치 않은 부작용 없이 모듈 간의 연결이 제어되고 명시적.
- 아키텍처 방법론이 비즈니스 지향적.

#### 단점

- 다른 많은 아키텍처 솔루션들에 비해 높은 진입 장벽
- 인식, 팀 문화 및 개념 준수가 필요
- 도전 과제와 문제를 나중이 아닌 즉시 해결. 코드 문제와 개념에서 벗어난 부분을 즉시 확인할 수 있다. 그러나 이는 장점으로도 볼 수 있다.

---

### 🆚 고전적 아키텍처 vs 기능 분할 설계 (FSD)

| 항목              | 고전적 아키텍처                                           | 기능 분할 설계 (FSD)                                                   |
| ----------------- | --------------------------------------------------------- | ---------------------------------------------------------------------- |
| **기준**          | 기술 중심 (기능이 아닌 파일 타입으로 구분)                | 기능(비즈니스 시나리오) 중심                                           |
| **디렉토리 구조** | `components/`, `pages/`, `utils/`, `styles/` 등           | `features/`, `entities/`, `widgets/`, `shared/`, `app/` 등 레이어 기반 |
| **응집도**        | 낮음 – 기능에 필요한 코드가 여러 폴더에 흩어짐            | 높음 – 관련 코드가 하나의 슬라이스 안에 모여 있음                      |
| **결합도**        | 상대적으로 높음 – 컴포넌트 간 의존 관계가 복잡해지기 쉬움 | 낮음 – 상위 레이어는 하위 레이어만 참조 가능 (단방향 흐름)             |
| **유지보수**      | 특정 기능 수정 시 여러 폴더를 오가야 함                   | 슬라이스 단위로 독립적 수정 가능                                       |
| **확장성**        | 프로젝트가 커질수록 폴더가 복잡해짐                       | 기능 단위로 구조를 자연스럽게 확장 가능                                |
| **협업 효율**     | 파일 찾기 어려워 협업 진입 장벽 있음                      | 슬라이스 단위로 작업을 나눌 수 있어 협업 용이                          |
| **표준화 수준**   | 팀/개발자마다 구조가 달라 일관성 부족                     | 레이어 구조와 역할이 정해져 있어 일관성 유지                           |
